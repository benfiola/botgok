<VirtualHost *:80>
    ServerName "bot.bnjmn.net"
    Redirect / https://bot.bnjmn.net/
</VirtualHost>

<VirtualHost *:443>
    ServerName "bot.bnjmn.net"

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    SSLEngine On
    SSLProxyEngine On
    SSLCertificateFile /etc/letsencrypt/live/bot.bnjmn.net/fullchain.pem
    SSLCertificateKeyFile /etc/letsencrypt/live/bot.bnjmn.net/privkey.pem

    # https://stackoverflow.com/questions/44914961/install-mod-wsgi-on-ubuntu-with-python-3-6-apache-2-4-and-django-1-11
    LoadModule wsgi_module "/var/bot-deployment/virtualenv/lib/python3.6/site-packages/mod_wsgi/server/mod_wsgi-py36.cpython-36m-x86_64-linux-gnu.so"
    WSGIDaemonProcess bot-server home="/var/bot-deployment/" user="bot-server" group="web" display-name="bot-server" python-home="/var/bot-deployment/virtualenv"
    WSGIProcessGroup bot-server
    WSGIApplicationGroup %{GLOBAL}
    WSGIScriptAlias / /var/bot-deployment/virtualenv/bin/bot_server.wsgi

    <Directory /var/bot-deployment/virtualenv>
        Require all granted
    </Directory>
</VirtualHost>